<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>{{businessName}} – Preview Template</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Tailwind CDN (matching main site) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Tailwind config (matching main JoeyBuildsSites palette) -->
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            sand: {
              50: "#f8f4ee",
              100: "#f1e6d5",
              200: "#e3cfad",
              300: "#d3b37e"
            },
            brand: {
              dark: "#1f2933",
              accent: "#d68b36"
            }
          }
        }
      }
    };
  </script>

  <style>
    /* Industry Theme Variables */
    :root {
      --theme-primary: #1f2933;
      --theme-accent: #d68b36;
    }

    html {
      scroll-behavior: smooth;
    }

    /* Sticky Header */
    .sticky-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      z-index: 1000;
      background-color: var(--theme-primary);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    /* Hero Section */
    .hero-section {
      margin-top: 60px;
      background-color: var(--theme-primary);
    }

    /* Hero Image Styling */
    .hero-image-wrapper {
      width: 100%;
      max-height: 280px;
      position: relative;
      overflow: hidden;
      border-radius: 1rem;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
    }

    .hero-image-wrapper img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      object-position: center;
    }

    /* Image Fallback */
    .hero-image-wrapper.image-fallback {
      background: linear-gradient(135deg, var(--theme-primary) 0%, var(--theme-accent) 100%);
      opacity: 0.3;
    }

    /* Services Row */
    .services-row {
      display: flex;
      flex-wrap: nowrap;
      gap: 16px;
    }

    .service-item {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: white;
      font-size: 14px;
      font-weight: 500;
    }

    .service-item svg {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    /* Trust Signals */
    .trust-signal {
      display: flex;
      align-items: center;
      gap: 8px;
      color: rgba(255, 255, 255, 0.9);
      font-size: 15px;
    }

    .trust-signal::before {
      content: '✓';
      display: flex;
      align-items: center;
      justify-content: center;
      width: 20px;
      height: 20px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      font-weight: bold;
    }

    /* Hotspot Tooltip Styles */
    .hotspot-tooltip {
      position: fixed;
      background: rgba(31, 41, 51, 0.95);
      color: #f8f4ee;
      padding: 8px 12px;
      border-radius: 8px;
      font-size: 13px;
      line-height: 1.4;
      max-width: 280px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
      pointer-events: none;
      z-index: 9999;
      opacity: 0;
      transition: opacity 0.2s ease;
    }

    .hotspot-tooltip.visible {
      opacity: 1;
    }

    .hotspot-tooltip::before {
      content: '';
      position: absolute;
      top: -4px;
      left: 16px;
      width: 8px;
      height: 8px;
      background: rgba(31, 41, 51, 0.95);
      transform: rotate(45deg);
    }

    /* Hotspot indicator - subtle pulse on hover */
    [data-hotspot="true"] {
      position: relative;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    [data-hotspot="true"]:hover {
      transform: translateY(-2px);
    }

    /* Optional: Add subtle indicator when not hovering */
    [data-hotspot="true"]::after {
      content: '';
      position: absolute;
      top: -4px;
      right: -4px;
      width: 8px;
      height: 8px;
      background: #d68b36;
      border-radius: 50%;
      opacity: 0.6;
      transition: opacity 0.2s ease;
    }

    [data-hotspot="true"]:hover::after {
      opacity: 0;
    }

    /* Responsive Styles */
    @media (max-width: 767px) {
      .hero-section {
        min-height: auto;
      }

      .hero-content {
        padding: 40px 20px !important;
      }

      .hero-split {
        flex-direction: column !important;
      }

      .hero-left {
        width: 100% !important;
        order: 2;
      }

      .hero-right {
        width: 100% !important;
        height: 192px !important;
        order: 1;
      }

      .hero-image-wrapper {
        border-radius: 0 0 1rem 1rem;
      }

      .services-row {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
        flex-wrap: wrap;
      }

      .service-item {
        font-size: 13px;
      }
    }
  </style>
</head>
<body class="bg-white text-brand-dark antialiased" data-industry="{{industry}}">

  <!-- STICKY HEADER -->
  <header class="sticky-header">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-full flex items-center justify-between">
      <!-- Business Name as Logo -->
      <div class="text-white text-xl font-bold">
        {{businessName}}
      </div>

      <!-- Header Actions -->
      <div class="flex items-center gap-4">
        <!-- Phone Icon -->
        <a 
          href="tel:{{footer_phone}}" 
          class="text-white hover:opacity-80 transition-opacity"
          aria-label="Call us">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
          </svg>
        </a>

        <!-- Get Quote Button -->
        <button 
          data-hotspot="true" 
          data-hint="{{heroCTAHint}}"
          class="header-cta-btn px-5 py-2 rounded-full text-sm font-semibold bg-white text-brand-dark hover:opacity-90 transition-opacity shadow-md"
          style="color: var(--theme-primary);">
          Get Quote
        </button>
      </div>
    </div>
  </header>

  <!-- HERO SECTION - SPLIT LAYOUT -->
  <section class="hero-section">
    <div class="hero-content max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-16">
      <div class="hero-split flex items-stretch">
        
        <!-- LEFT SIDE - Content -->
        <div class="hero-left flex items-center w-full lg:w-2/3">
          <div class="flex flex-col px-8 lg:px-12 w-full">
            <!-- Tagline -->
            <p class="text-xs font-semibold tracking-[0.2em] uppercase text-white/70 mb-2">
              {{tagline}}
            </p>

            <!-- Headline -->
            <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight text-white mb-4">
              {{headline}}
            </h1>

            <!-- Subheadline -->
            <p class="text-xl sm:text-2xl text-white/90 mb-6">
              {{subheadline}}
            </p>

            <!-- Trust Signals -->
            <div class="mb-8 space-y-1">
              <div class="trust-signal">Licensed & Insured</div>
              <div class="trust-signal" id="service-area-signal">Serving {{footer_serviceArea}}</div>
            </div>

            <!-- CTA Buttons -->
            <div class="flex flex-col sm:flex-row items-start gap-4 mb-8">
              <button 
                data-hotspot="true" 
                data-hint="{{heroCTAHint}}"
                class="hero-cta-btn inline-flex items-center px-8 py-4 rounded-full text-lg font-semibold bg-white shadow-lg hover:shadow-xl transition-all"
                style="color: var(--theme-primary);">
                {{heroCTA}}
              </button>
              
              <a 
                href="#contact" 
                class="inline-flex items-center px-8 py-4 rounded-full text-lg font-semibold text-white border-2 border-white hover:bg-white hover:text-brand-dark transition-all"
                style="border-color: rgba(255, 255, 255, 0.5);">
                About Us
              </a>
            </div>

            <!-- Services Row -->
            <div class="services-row">
              <div 
                data-hotspot="true" 
                data-hint="{{service_0_hint}}"
                class="service-item">
                <svg class="service-icon-0 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                <span class="text-sm font-medium">{{service_0_name}}</span>
              </div>

              <div 
                data-hotspot="true" 
                data-hint="{{service_1_hint}}"
                class="service-item">
                <svg class="service-icon-1 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                <span class="text-sm font-medium">{{service_1_name}}</span>
              </div>

              <div 
                data-hotspot="true" 
                data-hint="{{service_2_hint}}"
                class="service-item">
                <svg class="service-icon-2 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                <span class="text-sm font-medium">{{service_2_name}}</span>
              </div>

              <div 
                data-hotspot="true" 
                data-hint="{{service_3_hint}}"
                class="service-item">
                <svg class="service-icon-3 w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
                <span class="text-sm font-medium">{{service_3_name}}</span>
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT SIDE - Image -->
        <div class="hidden lg:flex lg:w-1/3 items-center justify-center p-8">
          <div class="hero-image-wrapper">
            <img 
              id="hero-image" 
              src="" 
              alt="{{businessName}}"
              class="w-full h-full object-cover"
              loading="eager"
              onerror="this.style.display='none'; this.parentElement.classList.add('image-fallback');" />
          </div>
        </div>

      </div>
    </div>
  </section>

  <!-- CTA STRIP -->
  <section id="contact" class="cta-section py-20 text-white" style="background: linear-gradient(to bottom, var(--theme-primary) 0%, var(--theme-accent) 100%);">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4">
        {{cta_heading}}
      </h2>

      <p class="text-lg text-white/80 mb-8">
        {{cta_subheading}}
      </p>

      <button 
        data-hotspot="true" 
        data-hint="{{cta_hint}}"
        class="inline-flex items-center px-8 py-4 rounded-full text-lg font-semibold bg-white hover:bg-sand-50 transition-colors shadow-lg"
        style="color: var(--theme-primary);">
        {{cta_button}}
      </button>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="py-12 bg-sand-50 border-t border-sand-200">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid sm:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
        
        <div>
          <h3 class="font-semibold text-brand-dark mb-3">{{businessName}}</h3>
          <p class="text-sm text-brand-dark/70" style="white-space: pre-line;">{{footer_description}}</p>
        </div>

        <div>
          <h3 class="font-semibold text-brand-dark mb-3">Contact</h3>
          <p class="text-sm text-brand-dark/70">
            {{footer_phone}}<br />
            {{footer_email}}<br />
            {{footer_hours}}
          </p>
        </div>

        <div>
          <h3 class="font-semibold text-brand-dark mb-3">Services</h3>
          <ul class="text-sm text-brand-dark/70 space-y-1">
            <li>{{service_0_name}}</li>
            <li>{{service_1_name}}</li>
            <li>{{service_2_name}}</li>
            <li>{{service_3_name}}</li>
          </ul>
        </div>

        <div>
          <h3 class="font-semibold text-brand-dark mb-3">Service Area</h3>
          <p class="text-sm text-brand-dark/70" style="white-space: pre-line;">{{footer_serviceArea}}</p>
        </div>

      </div>

      <div class="pt-6 border-t border-sand-200 text-center text-xs text-brand-dark/60">
        <p>&copy; {{footer_copyright}}</p>
      </div>
    </div>
  </footer>

  <!-- Industry Theme System -->
  <script>
    (function() {
      // Industry theme configurations
      const industryThemes = {
        plumbing: {
          primary: '#1d4ed8',   // Strong blue
          accent: '#3b82f6'     // Lighter blue
        },
        electrical: {
          primary: '#b45309',   // Rich amber/orange (think copper wire)
          accent: '#f59e0b'     // Bright amber
        },
        landscaping: {
          primary: '#166534',   // Forest green
          accent: '#22c55e'     // Bright green
        },
        roofing: {
          primary: '#1e293b',   // Dark slate
          accent: '#ef4444'     // Red accent
        },
        hvac: {
          primary: '#0c4a6e',   // Deep sky blue
          accent: '#0ea5e9'     // Bright cyan
        },
        cleaning: {
          primary: '#115e59',   // Deep teal
          accent: '#14b8a6'     // Bright teal
        },
        painting: {
          primary: '#6d28d9',   // Purple
          accent: '#a78bfa'     // Light purple
        },
        general: {
          primary: '#1f2937',   // Charcoal
          accent: '#d97706'     // Orange accent
        }
      };

      // Industry icon SVG paths
      const industryIcons = {
        plumbing: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4" />',
        electrical: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />',
        landscaping: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />',
        roofing: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" />',
        hvac: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z" />',
        cleaning: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z" />',
        painting: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01" />',
        general: '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />'
      };

      // Unsplash image keywords by industry
      const industryImageKeywords = {
        plumbing: 'plumbing,plumber,pipes',
        electrical: 'electrician,electrical,wiring',
        landscaping: 'landscaping,lawn,garden',
        roofing: 'roofing,roof,construction',
        hvac: 'hvac,air-conditioning,heating',
        cleaning: 'cleaning,house-cleaning,maid',
        painting: 'painting,house-painter,renovation',
        general: 'small-business,contractor,professional'
      };

      // Get industry from data attribute
      const industry = document.body.getAttribute('data-industry') || 'general';
      const theme = industryThemes[industry] || industryThemes.general;

      // Apply theme colors to CSS variables
      document.documentElement.style.setProperty('--theme-primary', theme.primary);
      document.documentElement.style.setProperty('--theme-accent', theme.accent);

      // Update service icons
      const iconSVG = industryIcons[industry] || industryIcons.general;
      for (let i = 0; i < 4; i++) {
        const svg = document.querySelector(`.service-icon-${i}`);
        if (svg) {
          svg.innerHTML = iconSVG;
        }
      }

      // Update hero image with industry-specific Unsplash image
      const keywords = industryImageKeywords[industry] || industryImageKeywords.general;
      const heroImage = document.getElementById('hero-image');
      if (heroImage) {
        heroImage.src = `https://source.unsplash.com/1200x800/?${keywords}`;
      }

      // Truncate service area to first line only in trust signal
      const serviceAreaSignal = document.getElementById('service-area-signal');
      if (serviceAreaSignal) {
        const fullText = serviceAreaSignal.textContent || '';
        const firstLine = fullText.split('\n')[0];
        serviceAreaSignal.textContent = firstLine;
      }
    })();
  </script>

  <!-- Hotspot Tooltip System -->
  <script>
    (function() {
      // Create tooltip element
      const tooltip = document.createElement('div');
      tooltip.className = 'hotspot-tooltip';
      document.body.appendChild(tooltip);

      let currentHotspot = null;
      let hideTimeout = null;

      // Find all hotspot elements
      const hotspots = document.querySelectorAll('[data-hotspot="true"]');

      // Position tooltip near cursor
      function positionTooltip(e, element) {
        const rect = element.getBoundingClientRect();
        const tooltipRect = tooltip.getBoundingClientRect();
        
        // Default position: below and centered on the element
        let top = rect.bottom + 12;
        let left = rect.left + (rect.width / 2) - (tooltipRect.width / 2);

        // Clamp to viewport bounds
        const padding = 16;
        const viewportWidth = window.innerWidth;
        const viewportHeight = window.innerHeight;

        // Prevent overflow right
        if (left + tooltipRect.width > viewportWidth - padding) {
          left = viewportWidth - tooltipRect.width - padding;
        }

        // Prevent overflow left
        if (left < padding) {
          left = padding;
        }

        // If tooltip would go off bottom, position above element instead
        if (top + tooltipRect.height > viewportHeight - padding) {
          top = rect.top - tooltipRect.height - 12;
        }

        tooltip.style.top = `${top}px`;
        tooltip.style.left = `${left}px`;
      }

      // Show tooltip
      function showTooltip(element, hint) {
        if (currentHotspot === element) return;

        clearTimeout(hideTimeout);
        currentHotspot = element;
        tooltip.textContent = hint;
        
        // Wait for next frame to get accurate dimensions
        requestAnimationFrame(() => {
          positionTooltip(null, element);
          tooltip.classList.add('visible');
        });
      }

      // Hide tooltip
      function hideTooltip() {
        hideTimeout = setTimeout(() => {
          tooltip.classList.remove('visible');
          currentHotspot = null;
        }, 150);
      }

      // Add event listeners to each hotspot
      hotspots.forEach(hotspot => {
        const hint = hotspot.getAttribute('data-hint');
        
        if (!hint) return;

        // Desktop: mouse events
        hotspot.addEventListener('mouseenter', (e) => {
          showTooltip(hotspot, hint);
        });

        hotspot.addEventListener('mouseleave', () => {
          hideTooltip();
        });

        // Mobile: touch events (optional enhancement)
        let touchTimer = null;
        
        hotspot.addEventListener('touchstart', (e) => {
          // Don't interfere with scrolling
          touchTimer = setTimeout(() => {
            e.preventDefault();
            showTooltip(hotspot, hint);
          }, 300);
        });

        hotspot.addEventListener('touchend', () => {
          clearTimeout(touchTimer);
        });

        hotspot.addEventListener('touchmove', () => {
          clearTimeout(touchTimer);
          hideTooltip();
        });
      });

      // Hide tooltip when clicking outside
      document.addEventListener('click', (e) => {
        if (!e.target.closest('[data-hotspot="true"]')) {
          hideTooltip();
        }
      });

      // Update tooltip position on scroll
      let scrollTimeout;
      window.addEventListener('scroll', () => {
        if (currentHotspot) {
          clearTimeout(scrollTimeout);
          tooltip.classList.remove('visible');
          scrollTimeout = setTimeout(() => {
            if (currentHotspot) {
              positionTooltip(null, currentHotspot);
              tooltip.classList.add('visible');
            }
          }, 100);
        }
      });

      // Update tooltip position on window resize
      window.addEventListener('resize', () => {
        if (currentHotspot) {
          positionTooltip(null, currentHotspot);
        }
      });
    })();
  </script>

</body>
</html>
